{"version":3,"sources":["webpack:///./src/components/rank/rank.vue?40ad","webpack:///./src/components/rank/rank.vue?88f3","webpack:///./src/api/rank.js","webpack:///src/components/rank/rank.vue","webpack:///./src/components/rank/rank.vue?b633","webpack:///./src/components/rank/rank.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","_l","topList","index","key","on","$event","selectItem","directives","name","rawName","value","expression","attrs","_v","_s","tracks","topLists","length","staticRenderFns","getTopList","i","Promise","resolve","reject","axios","get","HOST","then","res","data","code","ERR_OK","playlist","mixins","mounted","_getTopList","methods","$router","push","path","setDisc","handlePlaylist","$refs","rank","style","bottom","scroll","refresh","component"],"mappings":"kHAAA,yBAAusB,EAAG,G,oECA1sB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,OAAOC,YAAY,QAAQ,CAACH,EAAG,cAAc,CAACE,IAAI,SAASC,YAAY,gBAAgB,CAACP,EAAIQ,GAAIR,EAAY,UAAE,SAASS,EAAQC,GAAO,OAAON,EAAG,MAAM,CAACO,IAAID,EAAMH,YAAY,oBAAoBK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,WAAWL,MAAY,CAACL,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,MAAM,CAACW,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAmB,YAAEU,WAAW,wBAAwBC,MAAM,CAAC,OAAS,aAAahB,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACJ,EAAIqB,GAAG,KAAKrB,EAAIsB,GAAGb,EAAQc,OAAO,GAAGP,SAASZ,EAAG,MAAM,CAACJ,EAAIqB,GAAG,KAAKrB,EAAIsB,GAAGb,EAAQc,OAAO,GAAGP,SAASZ,EAAG,MAAM,CAACJ,EAAIqB,GAAG,KAAKrB,EAAIsB,GAAGb,EAAQc,OAAO,GAAGP,gBAAeZ,EAAG,eAAe,CAACW,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQlB,EAAIwB,SAASC,OAAQN,WAAW,qBAAqBZ,YAAY,oBAAoBa,MAAM,CAAC,KAAO,OAAO,GAAGhB,EAAG,gBAAgB,IAC77BsB,EAAkB,G,yFCEf,SAASC,EAAWC,GACzB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,IAAMC,IAAN,UAAaC,OAAb,yBAAkCN,IAAKO,MAAK,SAAAC,GACtCA,EAAIC,KAAKC,OAASC,OACpBT,EAAQM,EAAIC,KAAKG,UAEjBT,EAAO,gB,4lBCoBf,OACEU,OAAQ,CAAC,EAAX,MACEJ,KAFF,WAGI,MAAO,CACLb,SAAU,KAGdkB,QAPF,WAQIzC,KAAK0C,eAEPC,QAAS,EAAX,CACI9B,WADJ,SACA,GACMb,KAAK4C,QAAQC,KAAK,CAChBC,KAAM,cAAd,eAEM9C,KAAK+C,QAAQvC,IAEfwC,eAPJ,SAOA,GACM,IAAN,sBACMhD,KAAKiD,MAAMC,KAAKC,MAAMC,OAASA,EAC/BpD,KAAKiD,MAAMI,OAAOC,WAEpBZ,YAZJ,WAcM,IAFN,WACA,oBACA,mCACQhB,EAAWC,GAAGO,MAAK,SAA3B,GACU,EAAV,uBAIA,gBACI,QAAJ,eC5D4c,I,wBCQxcqB,EAAY,eACd,EACAzD,EACA2B,GACA,EACA,KACA,WACA,MAIa,aAAA8B,E","file":"js/chunk-c2c928ec.ef13ef89.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=style&index=0&id=272b72d1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=style&index=0&id=272b72d1&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"rank\",staticClass:\"rank\"},[_c('cube-scroll',{ref:\"scroll\",staticClass:\"rank-content\"},[_vm._l((_vm.topLists),function(topList,index){return _c('div',{key:index,staticClass:\"topList-container\",on:{\"click\":function($event){return _vm.selectItem(topList)}}},[_c('div',{staticClass:\"topList-left\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(topList.coverImgUrl),expression:\"topList.coverImgUrl\"}],attrs:{\"height\":\"100px\"}})]),_c('div',{staticClass:\"topList-right\"},[_c('div',[_vm._v(\"1.\"+_vm._s(topList.tracks[0].name))]),_c('div',[_vm._v(\"2.\"+_vm._s(topList.tracks[1].name))]),_c('div',[_vm._v(\"3.\"+_vm._s(topList.tracks[2].name))])])])}),_c('cube-loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.topLists.length),expression:\"!topLists.length\"}],staticClass:\"loading_container\",attrs:{\"size\":40}})],2),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport { HOST, ERR_OK } from 'common/js/config'\r\n\r\nexport function getTopList(i) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(`${HOST}/top/list?idx=${i}`).then(res => {\r\n      if (res.data.code === ERR_OK) {\r\n        resolve(res.data.playlist)\r\n      } else {\r\n        reject('排行获取失败')\r\n      }\r\n    })\r\n  })\r\n}","<template>\r\n  <div class=\"rank\" ref=\"rank\">\r\n    <cube-scroll class=\"rank-content\" ref=\"scroll\">\r\n      <div\r\n        @click=\"selectItem(topList)\"\r\n        class=\"topList-container\"\r\n        v-for=\"(topList,index) in topLists\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"topList-left\">\r\n          <img v-lazy=\"topList.coverImgUrl\" height=\"100px\">\r\n        </div>\r\n        <div class=\"topList-right\">\r\n          <div>1.{{topList.tracks[0].name}}</div>\r\n          <div>2.{{topList.tracks[1].name}}</div>\r\n          <div>3.{{topList.tracks[2].name}}</div>\r\n        </div>\r\n      </div>\r\n      <cube-loading :size=\"40\" class=\"loading_container\" v-show=\"!topLists.length\"></cube-loading>\r\n    </cube-scroll>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { playlistMixin } from \"common/js/mixin\";\r\nimport { getTopList } from \"api/rank\";\r\nimport { mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  data() {\r\n    return {\r\n      topLists: []\r\n    };\r\n  },\r\n  mounted() {\r\n    this._getTopList();\r\n  },\r\n  methods: {\r\n    selectItem(topList) {\r\n      this.$router.push({\r\n        path: `/recommend/${topList.id}`\r\n      });\r\n      this.setDisc(topList);\r\n    },\r\n    handlePlaylist(playlist) {\r\n      const bottom = playlist.length > 0 ? \"60px\" : 0;\r\n      this.$refs.rank.style.bottom = bottom;\r\n      this.$refs.scroll.refresh();\r\n    },\r\n    _getTopList() {\r\n      let topListArr = [17, 0, 1, 2, 3, 4, 15];\r\n      for (let i of topListArr) {\r\n        getTopList(i).then(topList => {\r\n          this.topLists.push(topList);\r\n        });\r\n      }\r\n    },\r\n    ...mapMutations({\r\n      setDisc: \"SET_DISC\"\r\n    })\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"common/scss/variable.scss\";\r\n\r\n.rank {\r\n  position: fixed;\r\n  top: 88px;\r\n  bottom: 0;\r\n  width: 100%;\r\n  .rank-content {\r\n    width: 100%;\r\n    height: 100%;\r\n    .topList-container {\r\n      height: 100px;\r\n      width: 100%;\r\n      padding: 3px 0;\r\n      margin: 0 10px;\r\n      border-bottom: 1px solid $color-border;\r\n      display: flex;\r\n      .topList-left {\r\n        img {\r\n          border-radius: 5px;\r\n        }\r\n      }\r\n      .topList-right {\r\n        font-size: 14px;\r\n        padding: 10px 20px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-around;\r\n      }\r\n    }\r\n    .loading_container {\r\n      display: flex;\r\n      justify-content: center;\r\n      padding-top: 100px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--16-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--16-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rank.vue?vue&type=template&id=272b72d1&scoped=true&\"\nimport script from \"./rank.vue?vue&type=script&lang=js&\"\nexport * from \"./rank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rank.vue?vue&type=style&index=0&id=272b72d1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"272b72d1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}